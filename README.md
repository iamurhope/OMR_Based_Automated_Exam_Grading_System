<div align="center">

# ğŸ“ OMR Based Automated Exam Grading System

<img src="https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white" />
<img src="https://img.shields.io/badge/OpenCV-5C3EE8?style=for-the-badge&logo=opencv&logoColor=white" />
<img src="https://img.shields.io/badge/scikit--learn-F7931E?style=for-the-badge&logo=scikit-learn&logoColor=white" />
<img src="https://img.shields.io/badge/Computer_Vision-FF6F00?style=for-the-badge&logo=visualstudiocode&logoColor=white" />

**Ğ¢ĞµÑÑ‚Ğ¸Ğ¹Ğ½ Ñ…ÑƒÑƒĞ´ÑÑ‹Ğ³ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ°Ğ°Ñ€ Ñ‚ÑĞ³ÑˆĞ¸Ğ»Ğ¶, Ñ…Ğ°Ñ€Ğ¸ÑƒĞ»Ñ‚ Ñ‚Ğ°Ğ½Ğ¸Ñ…, Ğ¾Ğ½Ğ¾Ğ¾ Ñ‚Ğ¾Ğ¾Ñ†Ğ¾Ğ¾Ğ»Ğ¾Ñ…, Ñ…ÑƒĞ²Ğ¸Ğ»Ğ±Ğ°Ñ€ ÑˆĞ°Ğ»Ğ³Ğ°Ñ… Ğ±Ò¯Ñ€ÑĞ½ ÑˆĞ¸Ğ¹Ğ´ÑĞ». 50 Ğ°ÑÑƒÑƒĞ»Ñ‚ Ñ…Ò¯Ñ€Ñ‚ÑĞ» Ğ´ÑĞ¼Ğ¶Ğ¸Ñ… AI ÑĞ¸ÑÑ‚ĞµĞ¼**

[ğŸš€ Ğ¡ÑƒÑƒĞ»Ğ³Ğ°Ñ…](#-installation) â€¢ [ğŸ“– ĞĞ¶Ğ¸Ğ»Ğ»Ğ°Ñ… Ğ·Ğ°Ñ€Ñ‡Ğ¸Ğ¼](#-how-it-works) â€¢ [ğŸ¯ ĞĞ½Ñ†Ğ»Ğ¾Ğ³](#-key-features) â€¢ [ğŸ“Š Ò®Ñ€ Ğ´Ò¯Ğ½](#-results-visualization)

---

</div>

## âœ¨ ĞĞ½Ñ†Ğ»Ğ¾Ğ³ ÑˆĞ¸Ğ½Ğ¶ Ñ‡Ğ°Ğ½Ğ°Ñ€ÑƒÑƒĞ´

<table>
<tr>
<td width="50%">

### ğŸ¯ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚ Ğ‘Ğ¾Ğ»Ğ¾Ğ²ÑÑ€ÑƒÑƒĞ»Ğ°Ğ»Ñ‚
- âœ… **Ultra-Robust Paper Detection** - 9 Ó©Ó©Ñ€ edge detection ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸
- âœ… **Perspective Transformation** - Ğ”Ó©Ñ€Ğ²Ó©Ğ½ Ñ†ÑĞ³Ğ¸Ğ¹Ğ½ Ğ°Ğ²Ñ‚Ğ¾ Ñ‚ÑĞ³ÑˆĞ¸Ğ»Ğ³ÑÑ
- âœ… **Auto-Rotation Detection** - 180Â° ÑÑ€Ğ³Ò¯Ò¯Ğ»ÑÑ… ÑˆĞ°Ğ°Ñ€Ğ´Ğ»Ğ°Ğ³Ñ‹Ğ³ Ğ¸Ğ»Ñ€Ò¯Ò¯Ğ»Ğ½Ñ
- âœ… **CLAHE Enhancement** - Ğ“ÑÑ€ÑĞ» Ñ‚Ğ¾Ñ…Ğ¸Ñ€ÑƒÑƒĞ»Ğ³Ğ°
- âœ… **Adaptive Thresholding** - Ğ¯Ğ½Ğ· Ğ±Ò¯Ñ€Ğ¸Ğ¹Ğ½ Ğ³ÑÑ€ÑĞ»Ñ‚Ò¯Ò¯Ğ»ÑĞ³Ñ‚ Ñ‚Ğ¾Ñ…Ğ¸Ñ€Ğ½Ğ¾

</td>
<td width="50%">

### ğŸ“Š Ğ£Ñ…Ğ°Ğ°Ğ»Ğ°Ğ³ Ğ˜Ğ»Ñ€Ò¯Ò¯Ğ»ÑĞ»Ñ‚
- âœ… **50 Ğ°ÑÑƒÑƒĞ»Ñ‚Ñ‹Ğ½ Ğ´ÑĞ¼Ğ¶Ğ»ÑĞ³** - 25x2 Ğ±Ğ°Ğ³Ğ°Ğ½Ğ° Ğ·Ğ°Ğ³Ğ²Ğ°Ñ€
- âœ… **Variant Validation** - A, B, C, D, E Ñ…ÑƒĞ²Ğ¸Ğ»Ğ±Ğ°Ñ€Ñ‹Ğ½ Ğ°Ğ²Ñ‚Ğ¾ ÑˆĞ°Ğ»Ğ³Ğ°Ğ»Ñ‚
- âœ… **Bubble Detection** - Circularity & intensity ÑˆĞ¸Ğ½Ğ¶Ğ¸Ğ»Ğ³ÑÑ
- âœ… **Grid Organization** - Y-threshold Ğ±Ò¯Ğ»ÑĞ³Ğ»ÑÑ… Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼
- âœ… **Confidence Scoring** - Ğ˜Ñ‚Ğ³ÑĞ»Ñ†Ğ»Ğ¸Ğ¹Ğ½ Ñ‚Ò¯Ğ²ÑˆĞ¸Ğ½ Ñ…ÑĞ¼Ğ¶Ğ¸Ñ…

</td>
</tr>
<tr>
<td width="50%">

### ğŸ“ ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚ Ğ—Ğ°ÑĞ°Ğ»Ñ‚
- âœ… **Answer Key Processing** - Ğ¥Ğ°Ñ€Ğ¸ÑƒĞ»Ñ‚Ñ‹Ğ½ Ğ·Ğ°Ğ³Ğ²Ğ°Ñ€ Ğ±Ğ¾Ğ»Ğ¾Ğ²ÑÑ€ÑƒÑƒĞ»Ğ°Ñ…
- âœ… **Batch Grading** - 10 Ñ…Ò¯Ñ€Ñ‚ÑĞ» Ğ¾ÑÑƒÑ‚Ğ½Ñ‹Ğ³ Ğ½ÑĞ³ÑĞ½ Ğ·ÑÑ€ÑĞ³ Ğ·Ğ°ÑĞ°Ñ…
- âœ… **Variant Matching** - Ğ—Ó©Ğ² Ñ…ÑƒĞ²Ğ¸Ğ»Ğ±Ğ°Ñ€Ñ‹Ğ³ ÑˆĞ°Ğ»Ğ³Ğ°Ğ¶ Ğ·Ğ°ÑĞ°Ñ…
- âœ… **Visual Feedback** - Ğ—Ó©Ğ²/Ğ±ÑƒÑ€ÑƒÑƒ Ñ…Ğ°Ñ€ÑƒÑƒĞ»ÑĞ°Ğ½ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ» Ò¯Ò¯ÑĞ³ÑÑ…
- âœ… **Detailed Reports** - TXT & JSON Ñ‚Ğ°Ğ¹Ğ»Ğ°Ğ½ Ğ³Ğ°Ñ€Ğ³Ğ°Ñ…

</td>
<td width="50%">

### ğŸ“ˆ Ğ”ÑĞ»Ğ³ÑÑ€ÑĞ½Ğ³Ò¯Ğ¹ Ğ¢Ğ°Ğ¹Ğ»Ğ°Ğ½
- âœ… **Score Statistics** - Ğ”ÑƒĞ½Ğ´Ğ°Ğ¶, Ğ¼ĞµĞ´Ğ¸Ğ°Ğ½, std deviation
- âœ… **Master Comparison Grid** - 3x4 Ñ…Ğ°Ñ€ÑŒÑ†ÑƒÑƒĞ»Ğ°Ğ»Ñ‚Ñ‹Ğ½ Ğ³Ñ€Ğ°Ñ„Ğ¸Ğº
- âœ… **Per-Question Analysis** - ĞÑÑƒÑƒĞ»Ñ‚ Ğ±Ò¯Ñ€Ğ¸Ğ¹Ğ½ Ğ´ÑĞ»Ğ³ÑÑ€ÑĞ½Ğ³Ò¯Ğ¹
- âœ… **Error Detection** - Ğ¥ÑƒĞ²Ğ¸Ğ»Ğ±Ğ°Ñ€ Ğ·Ó©Ñ€Ò¯Ò¯ Ğ¸Ğ»Ñ€Ò¯Ò¯Ğ»ÑĞ»Ñ‚
- âœ… **JSON Export** - ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ°Ğ°Ñ€ Ğ°ÑˆĞ¸Ğ³Ğ»Ğ°Ñ… Ğ±Ğ¾Ğ»Ğ¾Ğ¼Ğ¶Ñ‚Ğ¾Ğ¹

</td>
</tr>
</table>

---

## ğŸ”„ Ğ¥ÑÑ€Ñ…ÑĞ½ Ğ°Ğ¶Ğ¸Ğ»Ğ»Ğ°Ğ´Ğ°Ğ³

```mermaid
graph TB
    A[ğŸ“· Ğ¢ĞµÑÑ‚Ğ¸Ğ¹Ğ½ Ğ·ÑƒÑ€Ğ°Ğ³<br/>1-11.jpg] --> B[ğŸ”§ Paper Detection<br/>9 strategies]
    B --> C[ğŸ“ Perspective Transform<br/>4-point warping]
    C --> D[ğŸ”„ Orientation Check<br/>180Â° rotation detect]
    D --> E[âœ‚ï¸ Region Extraction<br/>Question + Variant areas]
    E --> F[ğŸ¯ Bubble Detection<br/>Circularity + Intensity]
    F --> G[ğŸ“Š Grid Organization<br/>25 rows Ã— 2 columns]
    G --> H[ğŸ” Variant Detection<br/>A/B/C/D/E validation]
    H --> I{Variant Match?}
    I -->|Yes| J[âœ… Grade Answers<br/>Compare with key]
    I -->|No| K[âŒ Variant Mismatch<br/>Skip grading]
    J --> L[ğŸ“ˆ Generate Reports<br/>TXT + JSON + Images]
    K --> L
    L --> M[ğŸ¨ Master Grid<br/>3Ã—4 comparison]
    
    style A fill:#e1f5ff
    style B fill:#fff3e0
    style C fill:#f3e5f5
    style D fill:#e8f5e9
    style E fill:#fff9c4
    style F fill:#fce4ec
    style G fill:#e0f2f1
    style H fill:#ffe0b2
    style I fill:#f8bbd0
    style J fill:#c8e6c9
    style K fill:#ffcdd2
    style L fill:#b2dfdb
    style M fill:#f0f4c3
```

---

## ğŸš€ Installation

### Ğ¨Ğ°Ğ°Ñ€Ğ´Ğ»Ğ°Ğ³Ğ°Ñ‚Ğ°Ğ¹ Ğ·Ò¯Ğ¹Ğ»Ñ

```bash
Python 3.7+
opencv-python >= 4.5.0
numpy >= 1.19.0
matplotlib >= 3.3.0
scikit-learn >= 0.24.0
pathlib (Python 3.4+ built-in)
```

### Ğ¡ÑƒÑƒĞ»Ğ³Ğ°Ñ… Ğ·Ğ°Ğ°Ğ²Ğ°Ñ€

```bash
# Repository-Ğ³ clone Ñ…Ğ¸Ğ¹Ñ…
git clone https://github.com/iamurhope/OMR_Based_Automated_Exam_Grading_System.git

# Ğ¥Ğ°Ğ²Ñ‚Ğ°Ñ Ñ€ÑƒÑƒ Ğ¾Ñ€Ğ¾Ñ…
cd OMR_Based_Automated_Exam_Grading_System

# Ğ¨Ğ°Ğ°Ñ€Ğ´Ğ»Ğ°Ğ³Ğ°Ñ‚Ğ°Ğ¹ package ÑÑƒÑƒĞ»Ğ³Ğ°Ñ…
pip install opencv-python numpy matplotlib scikit-learn

# Ğ­ÑĞ²ÑĞ» requirements Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ°Ñ
pip install -r requirements.txt
```

---

## ğŸ’» Ğ¥ÑÑ€ÑĞ³Ğ»ÑÑ

### 1ï¸âƒ£ Batch Processing Mode (10 Ğ¾ÑÑƒÑ‚Ğ°Ğ½ Ğ½ÑĞ³ÑĞ½ Ğ·ÑÑ€ÑĞ³)

```python
# Ğ—ÑƒÑ€Ğ°Ğ³ Ñ„Ğ°Ğ¹Ğ»ÑƒÑƒĞ´Ñ‹Ğ³ Ğ±ÑĞ»Ñ‚Ğ³ÑÑ…
# 1.jpg, 2.jpg, ..., 11.jpg (Ğ¾ÑÑƒÑ‚Ğ½Ñ‹ Ñ‚ĞµÑÑ‚ÑƒÑƒĞ´)
# shablom.jpg (Ñ…Ğ°Ñ€Ğ¸ÑƒĞ»Ñ‚Ñ‹Ğ½ Ğ·Ğ°Ğ³Ğ²Ğ°Ñ€)

# ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹Ğ³ Ğ°Ğ¶Ğ¸Ğ»Ğ»ÑƒÑƒĞ»Ğ°Ñ…
python omr_grading_system.py
```

**ĞŸÑ€Ğ¾Ñ†ĞµÑÑ:**
1. Ğ‘Ò¯Ñ… Ğ·ÑƒÑ€Ğ³ÑƒÑƒĞ´Ñ‹Ğ³ perspective correct Ñ…Ğ¸Ğ¹Ğ½Ñ â†’ `corrected_*.jpg`
2. Answer key Ğ±Ğ¾Ğ»Ğ¾Ğ²ÑÑ€ÑƒÑƒĞ»Ğ½Ğ° â†’ `corrected_shablom.jpg`
3. 10 Ğ¾ÑÑƒÑ‚Ğ½Ñ‹Ğ³ Ğ·Ğ°ÑĞ½Ğ°
4. Master comparison grid Ò¯Ò¯ÑĞ³ÑĞ½Ñ

### 2ï¸âƒ£ Single Image Mode (ĞÑĞ³ Ğ¾ÑÑƒÑ‚Ğ°Ğ½ Ğ·Ğ°ÑĞ°Ñ…)

```python
results = batch_process_omr_with_variants(
    input_folder='.',
    output_folder='omr_results',
    answer_key_filename='corrected_shablom.jpg',
    single_image='corrected_1.jpg',
    student_name='Student_1'
)
```

### 3ï¸âƒ£ Answer Key ÑˆĞ°Ğ»Ğ³Ğ°Ñ…

```python
results = batch_process_omr_with_variants(
    input_folder='.',
    output_folder='test',
    answer_key_filename='corrected_shablom.jpg',
    single_image='corrected_shablom.jpg',
    student_name='Answer_Key_Test'
)
```

---

## ğŸ“Š Ò®Ñ€ Ğ´Ò¯Ğ½Ğ³Ğ¸Ğ¹Ğ½ Ğ±Ò¯Ñ‚ÑÑ†

ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼ Ğ´Ğ°Ñ€Ğ°Ğ°Ñ… Ñ…Ğ°Ğ²Ñ‚Ğ°Ñ, Ñ„Ğ°Ğ¹Ğ»ÑƒÑƒĞ´Ñ‹Ğ³ Ò¯Ò¯ÑĞ³ÑĞ½Ñ:

```
omr_results/
â”œâ”€â”€ comparisons/
â”‚   â”œâ”€â”€ Student_1_graded.png          # Ğ—Ğ°ÑĞ°Ğ»Ñ‚Ñ‚Ğ°Ğ¹ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»
â”‚   â”œâ”€â”€ Student_1_detection.png       # Bubble detection
â”‚   â”œâ”€â”€ Student_1_variant.png         # Variant detection
â”‚   â””â”€â”€ Student_1_comparison.png      # Ğ¥Ğ°Ñ€Ğ¸ÑƒĞ»Ñ‚ Ñ…Ğ°Ñ€ÑŒÑ†ÑƒÑƒĞ»Ğ°Ğ»Ñ‚
â”‚
â”œâ”€â”€ reports/
â”‚   â”œâ”€â”€ ANSWER_KEY.txt               # Ğ¥Ğ°Ñ€Ğ¸ÑƒĞ»Ñ‚Ñ‹Ğ½ Ğ·Ğ°Ğ³Ğ²Ğ°Ñ€
â”‚   â”œâ”€â”€ Student_1_report.txt         # Ğ”ÑĞ»Ğ³ÑÑ€ÑĞ½Ğ³Ò¯Ğ¹ Ñ‚Ğ°Ğ¹Ğ»Ğ°Ğ½
â”‚   â”œâ”€â”€ OVERALL_SUMMARY.txt          # ĞĞ¸Ğ¹Ñ‚ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸Ğº
â”‚   â””â”€â”€ results.json                 # JSON export
â”‚
â”œâ”€â”€ visualizations/
â”‚   â”œâ”€â”€ answer_key_detection.png     # Answer key bubble detection
â”‚   â””â”€â”€ answer_key_variant.png       # Answer key variant
â”‚
â””â”€â”€ MASTER_COMPARISON_GRID.png       # 3x4 Ñ…Ğ°Ñ€ÑŒÑ†ÑƒÑƒĞ»Ğ°Ğ»Ñ‚Ñ‹Ğ½ Ğ³Ñ€Ğ°Ñ„Ğ¸Ğº
```

---

## ğŸ¯ ĞĞ½Ñ†Ğ»Ğ¾Ñ… Ğ¤ÑƒĞ½ĞºÑ†ÑƒÑƒĞ´

### 1ï¸âƒ£ Ultra-Robust Paper Detection
9 Ó©Ó©Ñ€ edge detection ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸ Ğ°ÑˆĞ¸Ğ³Ğ»Ğ°Ğ¶ Ñ‚ĞµÑÑ‚Ğ¸Ğ¹Ğ½ Ñ…ÑƒÑƒĞ´ÑÑ‹Ğ³ Ğ¸Ğ»Ñ€Ò¯Ò¯Ğ»Ğ½Ñ:
- **CLAHE enhancement** - Adaptive histogram equalization
- **Multiple Canny edges** - 5 Ó©Ó©Ñ€ threshold combination
- **Threshold methods** - OTSU, Binary, Adaptive
- **Sobel gradients** - Edge direction detection
- **Scoring system** - Area, rectangularity, angle, center position

```python
# Ğ”Ó©Ñ€Ğ²Ó©Ğ½ Ó©Ğ½Ñ†Ó©Ğ³ Ğ¸Ğ»Ñ€Ò¯Ò¯Ğ»ÑĞ»Ñ‚Ğ¸Ğ¹Ğ½ score Ñ‚Ğ¾Ğ¾Ñ†Ğ¾Ğ¾Ğ»Ğ¾Ğ»
score = (area ** 0.9) * (rectangularity ** 1.4) * 
        (angle_score ** 1.1) * (center_score ** 0.6) * 
        (edge_penalty ** 1.8) * left_edge_bonus
```

### 2ï¸âƒ£ Intelligent Bubble Detection
Circularity Ğ±Ğ¾Ğ»Ğ¾Ğ½ intensity ÑˆĞ¸Ğ½Ğ¶Ğ¸Ğ»Ğ³ÑÑ:
- **Size filtering**: 80-2500 pixels area
- **Aspect ratio check**: 0.4-2.0 range
- **Circularity score**: `4Ï€ Ã— area / perimeterÂ²`
- **Interior intensity**: Center region darkness check
- **Duplicate removal**: Position-based filtering

### 3ï¸âƒ£ Grid Organization Algorithm
Y-threshold Ğ°ÑˆĞ¸Ğ³Ğ»Ğ°Ğ½ 25 Ğ¼Ó©Ñ€ Ã— 2 Ğ±Ğ°Ğ³Ğ°Ğ½Ğ° Ğ±Ò¯Ğ»ÑĞ³Ğ»ÑÑ…:
```python
y_threshold = max(18, avg_bubble_height * 0.75)
```
- ĞœÓ©Ñ€ Ğ¸Ğ»Ñ€Ò¯Ò¯Ğ»ÑĞ»Ñ‚ - Y ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ğ°Ğ°Ñ€
- Ğ‘Ğ°Ğ³Ğ°Ğ½Ñ‹ ÑĞ»Ğ³Ğ°Ğ»Ñ‚ - Ğ¢Ğ¾Ğ¼ Ğ·Ğ°Ğ¹Ğ³Ğ°Ğ°Ñ€ split
- 5 ÑĞ¾Ğ½Ğ³Ğ¾Ğ»Ñ‚Ñ‚Ğ¾Ğ¹ Ğ°ÑÑƒÑƒĞ»Ñ‚ Ğ±Ò¯Ñ€ÑÑÑ

### 4ï¸âƒ£ Variant Validation System
A, B, C, D, E Ñ…ÑƒĞ²Ğ¸Ğ»Ğ±Ğ°Ñ€Ñ‹Ğ³ ÑˆĞ°Ğ»Ğ³Ğ°Ğ¶ Ñ‚Ğ°Ğ½ÑŒĞ¶:
- Top-right region Ğ´ÑÑÑ€ Ñ…Ğ°Ğ¹Ğ½Ğ°
- Contrast-based detection
- Confidence scoring
- **VARIANT MISMATCH DETECTION** - Ğ‘ÑƒÑ€ÑƒÑƒ Ñ…ÑƒĞ²Ğ¸Ğ»Ğ±Ğ°Ñ€Ñ‹Ğ³ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ°Ğ°Ñ€ Ğ¸Ğ»Ñ€Ò¯Ò¯Ğ»Ğ½Ñ

### 5ï¸âƒ£ Orientation Detection
3 voting mechanism Ğ°ÑˆĞ¸Ğ³Ğ»Ğ°Ğ½ 180Â° ÑÑ€Ğ³ÑÑ… ÑˆĞ°Ğ°Ñ€Ğ´Ğ»Ğ°Ğ³Ñ‹Ğ³ ÑˆĞ°Ğ»Ğ³Ğ°Ğ½Ğ°:
- **Content density** - Top vs bottom Ñ‚ĞµĞºÑÑ‚ Ñ…ÑĞ¼Ğ¶ÑÑ
- **Bubble distribution** - Ğ¥Ğ°Ğ°Ğ½Ğ° Ğ±Ó©Ğ¼Ğ±Ó©Ğ»Ó©Ğ³ Ğ¸Ñ… Ğ±Ğ°Ğ¹Ğ½Ğ°
- **Edge density** - Ğ˜Ñ€Ğ¼ÑĞ³Ğ¸Ğ¹Ğ½ Ñ‚Ğ°Ñ€Ñ…Ğ°Ğ»Ñ‚

---

## ğŸ“ˆ Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸ & ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼

<div align="center">

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸ | Ğ¥ÑÑ€ÑĞ³Ğ»ÑÑ |
|-----------|----------|----------|
| **Paper Detection** | OpenCV Canny, CLAHE, Morphology | 9 ÑÑ‚Ñ€Ğ°Ñ‚ĞµĞ³Ğ¸, scoring system |
| **Perspective Transform** | `getPerspectiveTransform` | 4-point warping + padding |
| **Bubble Detection** | Adaptive Threshold, Contours | Circularity + intensity |
| **Grid Organization** | DBSCAN-inspired clustering | Y-threshold grouping |
| **Variant Detection** | ROI extraction, Contour analysis | Top-right region scan |
| **Answer Matching** | NumPy array comparison | Intensity-based selection |
| **Grading Logic** | Python dictionaries | Key-value comparison |
| **Visualization** | Matplotlib + OpenCV drawing | Multi-panel grids |
| **Reports** | JSON + TXT export | Structured data output |

</div>

### ğŸ”¬ ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ñ‹Ğ½ ĞĞ½Ñ†Ğ»Ğ¾Ğ³

**Paper Detection Scoring:**
```python
score = (area ** 0.9) Ã— (rectangularity ** 1.4) Ã— 
        (angle_score ** 1.1) Ã— (center_score ** 0.6) Ã— 
        (edge_penalty ** 1.8) Ã— left_edge_bonus
```

**Bubble Circularity Check:**
```python
circularity = 4Ï€ Ã— area / (perimeterÂ²)
# Ğ¨Ğ°Ğ»Ğ³ÑƒÑƒÑ€: circularity > 0.3
```

**Filled Bubble Detection:**
```python
if min_intensity < 180:
    confidence = 0.9
elif min_intensity < 195 and contrast >= 5:
    confidence = 0.85
# ... 6 Ñ‚Ò¯Ğ²ÑˆĞ½Ğ¸Ğ¹ threshold
```

---

## ğŸ› ï¸ Ğ¢Ğ¾Ñ…Ğ¸Ñ€Ğ³Ğ¾Ğ¾ & ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ò¯Ò¯Ğ´

### Bubble Detection Parameters

```python
# Bubble Ñ…ÑĞ¼Ğ¶ÑÑĞ½Ğ¸Ğ¹ Ñ…ÑĞ·Ğ³Ğ°Ğ°Ñ€
MIN_AREA = 80        # Ğ¥Ğ°Ğ¼Ğ³Ğ¸Ğ¹Ğ½ Ğ±Ğ°Ğ³Ğ° Ñ‚Ğ°Ğ»Ğ±Ğ°Ğ¹ (Ğ¿Ğ¸ĞºÑĞµĞ»Â²)
MAX_AREA = 2500      # Ğ¥Ğ°Ğ¼Ğ³Ğ¸Ğ¹Ğ½ Ğ¸Ñ… Ñ‚Ğ°Ğ»Ğ±Ğ°Ğ¹ (Ğ¿Ğ¸ĞºÑĞµĞ»Â²)

# Circularity ÑˆĞ°Ğ»Ğ³ÑƒÑƒÑ€
MIN_CIRCULARITY = 0.3  # Ğ”ÑƒĞ³ÑƒĞ¹ Ñ…ÑĞ»Ğ±ÑÑ€Ğ¸Ğ¹Ğ½ ÑˆĞ°Ğ»Ğ³ÑƒÑƒÑ€

# Aspect ratio
MIN_ASPECT = 0.4      # Ó¨Ñ€Ğ³Ó©Ğ½/Ó©Ğ½Ğ´Ó©Ñ€ Ñ…Ğ°Ğ¼Ğ³Ğ¸Ğ¹Ğ½ Ğ±Ğ°Ğ³Ğ°
MAX_ASPECT = 2.0      # Ó¨Ñ€Ğ³Ó©Ğ½/Ó©Ğ½Ğ´Ó©Ñ€ Ñ…Ğ°Ğ¼Ğ³Ğ¸Ğ¹Ğ½ Ğ¸Ñ…
```

### Grid Organization Parameters

```python
# Y-threshold Ñ‚Ğ¾Ğ¾Ñ†Ğ¾Ğ¾Ğ»Ğ¾Ğ»
y_threshold = max(18, avg_bubble_height * 0.75)

# ĞœÓ©Ñ€Ğ¸Ğ¹Ğ½ Ñ‚Ğ¾Ğ¾
TOTAL_ROWS = 25       # 25 Ğ°ÑÑƒÑƒĞ»Ñ‚Ñ‹Ğ½ Ğ¼Ó©Ñ€
QUESTIONS_PER_ROW = 2 # ĞœÓ©Ñ€ Ğ±Ò¯Ñ€Ñ‚ 2 Ğ°ÑÑƒÑƒĞ»Ñ‚ (L+R)
TOTAL_QUESTIONS = 50  # ĞĞ¸Ğ¹Ñ‚ 50 Ğ°ÑÑƒÑƒĞ»Ñ‚
CHOICES_PER_Q = 5     # ĞÑÑƒÑƒĞ»Ñ‚ Ğ±Ò¯Ñ€ 5 ÑĞ¾Ğ½Ğ³Ğ¾Ğ»Ñ‚ (A-E)
```

### Region Extraction

```python
# Question region
crop_y1 = int(h * 0.08)  # Top: 8%
crop_y2 = int(h * 0.98)  # Bottom: 98%
crop_x1 = int(w * 0.05)  # Left: 5%
crop_x2 = int(w * 0.65)  # Right: 65%

# Variant region
y_start = int(h * 0.06)  # Top: 6%
y_end = int(h * 0.22)    # Bottom: 22%
x_start = int(w * 0.60)  # Left: 60%
x_end = int(w * 0.92)    # Right: 92%
```

---

## ğŸ“‹ Ğ¢Ğ°Ğ¹Ğ»Ğ°Ğ½Ğ³Ğ¸Ğ¹Ğ½ Ğ–Ğ¸ÑˆÑÑ

### Student Report (TXT Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚)

```
================================================================================
âœ“ GRADING SUCCESSFUL
================================================================================

STUDENT: Student_1
VARIANT: A (VERIFIED âœ“)
SCORE: 42/50 (84.0%)
================================================================================

SUMMARY:
  âœ“ Correct:   42 (84.0%)
  âœ— Incorrect:  5 (10.0%)
  â—‹ Blank:      3 (6.0%)

================================================================================

DETAILED BREAKDOWN:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Q#    Student    Correct    Status         
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1     A          A          âœ“ correct
2     B          B          âœ“ correct
3     C          D          âœ— incorrect
4     -          A          â—‹ blank
...
```

### Overall Summary Statistics

```
STATISTICS:
  Average score: 38.2/50
  Average percentage: 76.4%
  Highest score: 45/50 (90.0%)
  Lowest score: 32/50 (64.0%)
  Median score: 39.0/50
  Standard deviation: 8.3%
```
![](images/download.png)